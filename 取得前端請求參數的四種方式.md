取得前端請求參數的四種方式
============================

在全端開發中，前端傳遞參數給後端主要有四個位置：**URL 參數、URL 路徑、Request Header 跟 Request Body**，而 Spring Boot 也提供了四個以 `@Request` / `@Path` 開頭的註解來接這些參數。

---
### 1. `@RequestParam`：接住附加在 URL 後面的參數 (Query Parameter)
- **情境**：通常用於 **GET 請求**，當前端需要帶入查詢條件時使用。
- **網址**：`http://localhost:8080/tires?brand=Bridgestone&size=17`
- **範例**（查詢特定品牌的輪胎庫存）：
  ```JAVA
  @RequestMapping("/tires")
  public String getTires(@RequestParam String brand, @RequestParam Integer size) {
      System.out.println("查詢品牌: " + brand + ", 尺寸: " + size);
      return "查詢成功";
  }
  ```
- **注意事項**：
  1. Java 方法的參數名稱必須和 URL 上的 `key` 一模一樣。
  2. 資料型態必須相符（URL 傳數字，Java 就要用 `Integer` 或 `int`），否則系統會報錯。
---
### 2. `@RequestBody`：接住放在 Request Body 中的 JSON 參數

- **情境**：通常用於 **POST / PUT 請求**，當前端需要傳遞大量或結構化的資料（如表單送出）時使用。
- **資料長相** (JSON 格式放在 Request Body 裡)：
  ```JSON
  {
    "tireId": 105,
    "quantity": 4,
    "customerName": "宋一"
  }
  ```
- **範例**（建立一筆新的輪胎訂單）：
  1. **先建立對應的 Java Class (DTO)**：裡面的變數名稱必須和 JSON 的 Key 一模一樣。
      ```JAVA
      public class OrderRequest {
          private Integer tireId;
          private Integer quantity;
          private String customerName;
          // 記得要產生 getter 和 setter!
      }
      ```
  2. **在 Controller 使用 `@RequestBody` 接住它**：Spring Boot 會自動把 JSON 轉換成該 Java 物件！
      ```JAVA
      @RequestMapping("/orders")
      public String createOrder(@RequestBody OrderRequest request) {
          System.out.println("訂購人: " + request.getCustomerName());
          return "訂單建立成功";
      }
      ```
---

### 3. `@PathVariable`：接住放在 URL「路徑」中的值
- **情境**：用來指定某一個特定的資源，是為了實作 **RESTful API** 設計風格而誕生的註解。
- **網址**：`http://localhost:8080/orders/999` （這個 `999` 就是訂單編號，直接寫在路徑裡，而不是用 `?id=999`）。
- **範例**（查詢第 999 號訂單的詳細資訊）：
    ```JAVA
    // 1. 在 @RequestMapping 中用大括號 { } 定義變數位置
    @RequestMapping("/orders/{orderId}")
    // 2. 用 @PathVariable 接住它
    public String getOrderDetail(@PathVariable Integer orderId) {
        System.out.println("查詢的訂單編號為: " + orderId);
        return "訂單明細";
    }
    ```
- **注意**：`@RequestMapping` 裡面 `{}` 的參數類型及名稱，必須和 `@PathVariable` 後面的變數名稱**完全一致**。

---

### 4. `@RequestHeader`：接住放在 Request Header (請求標頭) 中的參數

- **情境**：用來傳遞「通用資訊」或「權限驗證」（例如：登入的 Token、User-Agent 等），不會用來傳遞一般的業務資料（如商品 id 或訂單內容）。
- **範例**（檢查是否有攜帶授權 Token）：
    ```JAVA
    @RequestMapping("/admin/dashboard")
    public String getDashboard(@RequestHeader String Authorization) {
      // Request Header 內的資料格式為 key : value (假設為 Authorization : qwe1sadq21we)
        System.out.println("取得的驗證 Token 為: " + Authorization); 
        return "後台資料";
    }
    ```
  此時去看 console 中，就會出現「取得的驗證 Token 為: qwe1sadq21we」的字串

---

### 總結表格

| **前端參數位置** | **適合的 HTTP Method** | **對應的 Spring Boot 註解** | **廣益輪胎行實戰範例** |
| --- | --- | --- | --- |
| **URL 後方 (`?key=val`)** | GET | `@RequestParam` | 篩選「普利司通」且尺寸「17」的輪胎 |
| **Request Body (JSON)** | POST / PUT | `@RequestBody` | 送出結帳表單，建立新訂單 |
| **URL 路徑中 (`/path/val`)** | GET / PUT / DELETE | `@PathVariable` | 查詢 / 修改 / 刪除「第 n 號」訂單 |
| **Request Header** | 任何 Method | `@RequestHeader` | 確認系統管理員是否已登入 (Token) |

